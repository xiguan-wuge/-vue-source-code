<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VueSourceCode2</title>
  <style>
    .font-red {
      color: red;
    }
    .font-black {
      color: black;
    }
  </style>
</head>
<body>
  <div class="title">这是Vue源码demo</div>
  <div id="app"></div>
  <div>end---</div>
  <script src="/dist/vue.js"></script>
  
  <script>
    // 注册全局mixin
    // Vue.mixin({
    //   created() {
    //     console.log('全局created')
    //   },
    //   mounted() {
    //     console.log('全局mounted')
    //   },
    //   beforeUpdate() {
    //     console.log('全局beforeUpdate')
    //   },
    // })

    // 注册全局组件
    // Vue.component('parent-component', {
    //   template: '<div>我是全局组件</div>'
    // })
    console.log('new Vue')
    const vm = new Vue({
      el: '#app',
      data() {
        return {
          a: 1,
          b: 2, 
          obj: {
            name: 'zhangsan'
          },
          arr: ['1', '2']
        }
      },
      computed: {
        sum() {
          console.log('sum-a,b', this.a, this.b,this)
          return `${this.a} + ${this.b}`
        },
        dValue() {
          return this.a - this.b
        }

      },
      // watch: {
      //   a(val, oldVal) {
      //     console.log('a - watch  ', val)
      //   }
      //   // a: {
      //   //   handler(val, oldVal) {
      //   //     console.log('a-watcher', val)
      //   //   },
      //   //   immediate:true
      //   // }
      // },
      // template: `<div class="font-red">hello 这是我自己写的Vue{{a}}-{{b}}</div>`,
      // <child-component></child-component>
      // <parent-component></parent-component>


      template: `<div class="font-red">
        hello 这是我自己写的Vue{{a}}-{{b}}
        <br></br>
        <span class="font-black">这是span{{a}}</span>
        <br></br>
        <span>这是计算属性{{sum}}---{{dValue}}</span>
      </div>`,
      // 局部组件
      // components: {
      //   'child-component': {
      //     template: '<div class="child-comp">我是局部组件</div>',
      //     created() {
      //       console.log('局部组件created()')
      //     },
      //     mounted() {
      //       console.log('局部组件mounted()')
      //     },
      //   }
      // },
      created() {
        console.log('实例created')
      },
      mounted() {
        console.log('实例mounted')
      },
      // beforeUpdate() {
      //   console.log('实例beforeUpdate')
      // },
    })
    console.log('vm', vm)
    // setTimeout(() => {
    //   console.log('2000', vm.a)
    //   vm.arr.push('3')
    // }, 2000)
    setTimeout(() => {
      console.log('5000')

      vm.a = 11
      // vm.a = 11111
      // vm.obj.name = 'lisi'
      // vm.arr.reverse()
    }, 5000)
  </script>
  
</body>
</html>